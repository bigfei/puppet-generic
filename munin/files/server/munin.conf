# Example configuration file for Munin, generated by 'make build'

# The next three variables specifies where the location of the RRD
# databases, the HTML output, and the logs, severally.  They all
# must be writable by the user running munin-cron.
dbdir	/var/lib/munin
htmldir	/var/www/munin
logdir	/var/log/munin
rundir  /var/run/munin

# Where to look for the HTML templates
tmpldir	/etc/munin/templates

# Make graphs show values per minute instead of per second
#graph_period minute

# Drop somejuser@fnord.comm and anotheruser@blibb.comm an email everytime 
# something changes (OK -> WARNING, CRITICAL -> OK, etc)
#contact.someuser.command mail -s "Munin notification" somejuser@fnord.comm
#contact.anotheruser.command mail -s "Munin notification" anotheruser@blibb.comm
#
# For those with Nagios, the following might come in handy. In addition,
# the services must be defined in the Nagios server as well.
#contacts nagios
#contact.nagios.command /usr/sbin/send_nsca -H nsca -c /etc/send_nsca.cfg

#contacts mon bart
contacts bart
contact.bart.command mail -s "Munin notification" bart+reports@kumina.nl

#contact.mon.command /usr/local/bin/montrap
#contact.mon.max_messages 1
#contact.mon.always_send warning critical
#contact.mon.text group: ${var:group}-trap\nhost: ${var:host}\nservice: ${var:plugin}\nstatusid: ${var:worstid}\nstatus: ${var:worst}\ntitle: ${var:graph_title}\ndetail: ${if:cfields \n\tCRITICALs:${loop<,>:cfields  ${var:label} is ${var:value} (outside range [${var:crange}])${if:extinfo : ${var:extinfo}}}.}${if:wfields \n\tWARNINGs:${loop<,>:wfields  ${var:label} is ${var:value} (outside range [${var:wrange}])${if:extinfo : ${var:extinfo}}}.}${if:ufields \n\tUNKNOWNs:${loop<,>:ufields  ${var:label} is ${var:value}${if:extinfo : ${var:extinfo}}}.}${if:fofields\n\tOKs:${loop<,>:fofields  ${var:label} is ${var:value}${if:extinfo : ${var:extinfo}}}.}

# Datacenter in Den Bosch
#
[lime-dom0.db.kumina.nl]
    address 172.29.121.1
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[kumquat-dom0.db.kumina.nl]
    address 172.29.121.9
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[database.db.kumina.nl]
    address 172.29.121.2
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[hosting.db.kumina.nl]
    address 172.29.121.3
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[pbx1.db.kumina.nl]
    address 172.29.121.10
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[pbx2.db.kumina.nl]
    address 172.29.121.11
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[management.db.kumina.nl]
    address 172.29.121.4
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[sw1.mgmt.db.kumina.nl]
    address 172.29.121.4
    use_node_name no

[sw2.mgmt.db.kumina.nl]
    address 172.29.121.4
    use_node_name no

[mailstore.db.kumina.nl]
    address 172.29.121.5
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[mailrelay.db.kumina.nl]
    address 172.29.121.6
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[mailman.db.kumina.nl]
    address 172.29.121.8
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[backup.db.kumina.nl]
    address 172.29.121.7
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

# Datacenter in Sittard
#
[tangerine-dom0.sit.kumina.nl]
    address 172.29.113.11
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[management.sit.kumina.nl]
    address 172.29.113.15
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[secondary.sit.kumina.nl]
    address 172.29.113.12
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[backup.sit.kumina.nl]
    address 172.29.113.13
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[builder.prot.sit.kumina.nl]
    address 172.29.113.22
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[sandbox-bart.db.kumina.nl]
    address 172.29.121.14
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

# A more complex example of a host tree
#
## First our "normal" host.
# [fii.foo.com]
#       address foo
#
## Then our other host...
# [fay.foo.com]
#       address fay
#
## Then we want totals...
# [foo.com;Totals] #Force it into the "foo.com"-domain...
#       update no   # Turn off data-fetching for this "host".
#
#   # The graph "load1". We want to see the loads of both machines... 
#   # "fii=fii.foo.com:load.load" means "label=machine:graph.field"
#       load1.graph_title Loads side by side
#       load1.graph_order fii=fii.foo.com:load.load fay=fay.foo.com:load.load
#
#   # The graph "load2". Now we want them stacked on top of each other.
#       load2.graph_title Loads on top of each other
#       load2.dummy_field.stack fii=fii.foo.com:load.load fay=fay.foo.com:load.load
#       load2.dummy_field.draw AREA # We want area instead the default LINE2.
#       load2.dummy_field.label dummy # This is needed. Silly, really.
#
#   # The graph "load3". Now we want them summarised into one field
#       load3.graph_title Loads summarised
#       load3.combined_loads.sum fii.foo.com:load.load fay.foo.com:load.load
#       load3.combined_loads.label Combined loads # Must be set, as this is
#                                                 # not a dummy field!
#
## ...and on a side note, I want them listen in another order (default is
## alphabetically)
#
# # Since [foo.com] would be interpreted as a host in the domain "com", we
# # specify that this is a domain by adding a semicolon.
# [foo.com;]
#       node_order Totals fii.foo.com fay.foo.com

[pomelo-dom0.db.kumina.nl]
    address 172.29.121.12
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage

[access.db.kumina.nl]
    address 172.29.121.13
    use_node_name yes
    df.notify_alias Filesystem usage
    df_inode.notify_alias Inode usage
